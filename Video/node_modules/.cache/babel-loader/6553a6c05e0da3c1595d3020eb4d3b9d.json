{"ast":null,"code":"import _objectSpread from \"C:/Users/brigh/storage/js_project/Gakugeki_WEB/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"C:/Users/brigh/storage/js_project/Gakugeki_WEB/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/brigh/storage/js_project/Gakugeki_WEB/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar DEFAULT_OPTIONS = {\n  disableNormalization: false\n};\nexport var createPeriodicWaveConstructor = function createPeriodicWaveConstructor(createNativePeriodicWave, getNativeContext, periodicWaveStore, sanitizePeriodicWaveOptions) {\n  return /*#__PURE__*/function (_Symbol$hasInstance) {\n    function PeriodicWave(context, options) {\n      _classCallCheck(this, PeriodicWave);\n\n      var nativeContext = getNativeContext(context);\n      var mergedOptions = sanitizePeriodicWaveOptions(_objectSpread(_objectSpread({}, DEFAULT_OPTIONS), options));\n      var periodicWave = createNativePeriodicWave(nativeContext, mergedOptions);\n      periodicWaveStore.add(periodicWave); // This does violate all good pratices but it is used here to simplify the handling of periodic waves.\n\n      return periodicWave;\n    }\n\n    _createClass(PeriodicWave, null, [{\n      key: _Symbol$hasInstance,\n      value: function value(instance) {\n        return instance !== null && typeof instance === 'object' && Object.getPrototypeOf(instance) === PeriodicWave.prototype || periodicWaveStore.has(instance);\n      }\n    }]);\n\n    return PeriodicWave;\n  }(Symbol.hasInstance);\n};","map":{"version":3,"mappings":";;;AAGA,IAAMA,eAAe,GAAG;EACpBC,oBAAoB,EAAE;AADF,CAAxB;AAIA,OAAO,IAAMC,6BAA6B,GAAoC,SAAjEA,6BAAiE,CAC1EC,wBAD0E,EAE1EC,gBAF0E,EAG1EC,iBAH0E,EAI1EC,2BAJ0E,EAK1E;EACA;IACI,sBAAYC,OAAZ,EAAwBC,OAAxB,EAA+D;MAAA;;MAC3D,IAAMC,aAAa,GAAGL,gBAAgB,CAACG,OAAD,CAAtC;MACA,IAAMG,aAAa,GAAGJ,2BAA2B,iCAAMN,eAAN,GAA0BQ,OAA1B,EAAjD;MACA,IAAMG,YAAY,GAAGR,wBAAwB,CAACM,aAAD,EAAgBC,aAAhB,CAA7C;MAEAL,iBAAiB,CAACO,GAAlB,CAAsBD,YAAtB,EAL2D,CAO3D;;MACA,OAAOA,YAAP;IACH;;IAVL;MAAA;MAAA,OAYW,eAA4BE,QAA5B,EAA6C;QAChD,OACKA,QAAQ,KAAK,IAAb,IAAqB,OAAOA,QAAP,KAAoB,QAAzC,IAAqDC,MAAM,CAACC,cAAP,CAAsBF,QAAtB,MAAoCG,YAAY,CAACC,SAAvG,IACAZ,iBAAiB,CAACa,GAAlB,CAA2BL,QAA3B,CAFJ;MAIH;IAjBL;;IAAA;EAAA,EAYmBM,MAAM,CAACC,WAZ1B;AAmBH,CAzBM","names":["DEFAULT_OPTIONS","disableNormalization","createPeriodicWaveConstructor","createNativePeriodicWave","getNativeContext","periodicWaveStore","sanitizePeriodicWaveOptions","context","options","nativeContext","mergedOptions","periodicWave","add","instance","Object","getPrototypeOf","PeriodicWave","prototype","has","Symbol","hasInstance"],"sources":["C:\\Users\\brigh\\storage\\js_project\\Gakugeki_WEB\\node_modules\\standardized-audio-context\\src\\factories\\periodic-wave-constructor.ts"],"sourcesContent":["import { IPeriodicWave, IPeriodicWaveOptions } from '../interfaces';\nimport { TContext, TPeriodicWaveConstructorFactory } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    disableNormalization: false\n} as const;\n\nexport const createPeriodicWaveConstructor: TPeriodicWaveConstructorFactory = (\n    createNativePeriodicWave,\n    getNativeContext,\n    periodicWaveStore,\n    sanitizePeriodicWaveOptions\n) => {\n    return class PeriodicWave<T extends TContext> implements IPeriodicWave {\n        constructor(context: T, options?: Partial<IPeriodicWaveOptions>) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = sanitizePeriodicWaveOptions({ ...DEFAULT_OPTIONS, ...options });\n            const periodicWave = createNativePeriodicWave(nativeContext, mergedOptions);\n\n            periodicWaveStore.add(periodicWave);\n\n            // This does violate all good pratices but it is used here to simplify the handling of periodic waves.\n            return periodicWave;\n        }\n\n        public static [Symbol.hasInstance](instance: unknown): boolean {\n            return (\n                (instance !== null && typeof instance === 'object' && Object.getPrototypeOf(instance) === PeriodicWave.prototype) ||\n                periodicWaveStore.has(<any>instance)\n            );\n        }\n    };\n};\n"]},"metadata":{},"sourceType":"module"}