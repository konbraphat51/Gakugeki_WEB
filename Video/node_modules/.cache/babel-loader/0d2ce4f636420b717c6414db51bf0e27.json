{"ast":null,"code":"export var createOnline = function createOnline(emitNotSupportedError, window, wrapSubscribeFunction) {\n  return function () {\n    return wrapSubscribeFunction(function (observer) {\n      if (window === null || window.navigator === undefined || window.navigator.onLine === undefined) {\n        return emitNotSupportedError(observer);\n      }\n\n      var emitFalse = function emitFalse() {\n        return observer.next(false);\n      };\n\n      var emitTrue = function emitTrue() {\n        return observer.next(true);\n      };\n\n      window.addEventListener('offline', emitFalse);\n      window.addEventListener('online', emitTrue);\n      observer.next(window.navigator.onLine);\n      return function () {\n        window.removeEventListener('offline', emitFalse);\n        window.removeEventListener('online', emitTrue);\n      };\n    });\n  };\n};","map":{"version":3,"mappings":"AAEA,OAAO,IAAMA,YAAY,GAAmB,SAA/BA,YAA+B,CAACC,qBAAD,EAAwBC,MAAxB,EAAgCC,qBAAhC,EAAyD;EACjG,OAAO;IAAA,OACHA,qBAAqB,CAAC,UAACC,QAAD,EAAa;MAC/B,IAAIF,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAACG,SAAP,KAAqBC,SAAxC,IAAqDJ,MAAM,CAACG,SAAP,CAAiBE,MAAjB,KAA4BD,SAArF,EAAgG;QAC5F,OAAOL,qBAAqB,CAACG,QAAD,CAA5B;MACH;;MAED,IAAMI,SAAS,GAAG,SAAZA,SAAY;QAAA,OAAMJ,QAAQ,CAACK,IAAT,CAAc,KAAd,CAAN;MAAA,CAAlB;;MACA,IAAMC,QAAQ,GAAG,SAAXA,QAAW;QAAA,OAAMN,QAAQ,CAACK,IAAT,CAAc,IAAd,CAAN;MAAA,CAAjB;;MAEAP,MAAM,CAACS,gBAAP,CAAwB,SAAxB,EAAmCH,SAAnC;MACAN,MAAM,CAACS,gBAAP,CAAwB,QAAxB,EAAkCD,QAAlC;MAEAN,QAAQ,CAACK,IAAT,CAAcP,MAAM,CAACG,SAAP,CAAiBE,MAA/B;MAEA,OAAO,YAAK;QACRL,MAAM,CAACU,mBAAP,CAA2B,SAA3B,EAAsCJ,SAAtC;QACAN,MAAM,CAACU,mBAAP,CAA2B,QAA3B,EAAqCF,QAArC;MACH,CAHD;IAIH,CAjBoB,CADlB;EAAA,CAAP;AAmBH,CApBM","names":["createOnline","emitNotSupportedError","window","wrapSubscribeFunction","observer","navigator","undefined","onLine","emitFalse","next","emitTrue","addEventListener","removeEventListener"],"sources":["C:\\Users\\brigh\\storage\\js_project\\Gakugeki_WEB\\node_modules\\subscribable-things\\src\\factories\\online.ts"],"sourcesContent":["import { TOnlineFactory } from '../types';\n\nexport const createOnline: TOnlineFactory = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return () =>\n        wrapSubscribeFunction((observer) => {\n            if (window === null || window.navigator === undefined || window.navigator.onLine === undefined) {\n                return emitNotSupportedError(observer);\n            }\n\n            const emitFalse = () => observer.next(false);\n            const emitTrue = () => observer.next(true);\n\n            window.addEventListener('offline', emitFalse);\n            window.addEventListener('online', emitTrue);\n\n            observer.next(window.navigator.onLine);\n\n            return () => {\n                window.removeEventListener('offline', emitFalse);\n                window.removeEventListener('online', emitTrue);\n            };\n        });\n};\n"]},"metadata":{},"sourceType":"module"}