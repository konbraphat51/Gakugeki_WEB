{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/brigh/storage/js_project/Gakugeki_WEB/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/brigh/storage/js_project/Gakugeki_WEB/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { register as rgstr } from 'media-encoder-host';\nimport { createBlobEventFactory } from './factories/blob-event-factory';\nimport { createDecodeWebMChunk } from './factories/decode-web-m-chunk';\nimport { createEventTargetConstructor } from './factories/event-target-constructor';\nimport { createEventTargetFactory } from './factories/event-target-factory';\nimport { createInvalidModificationError } from './factories/invalid-modification-error';\nimport { createInvalidStateError } from './factories/invalid-state-error';\nimport { createIsSupportedPromise } from './factories/is-supported-promise';\nimport { createMediaRecorderConstructor } from './factories/media-recorder-constructor';\nimport { createNativeBlobEventConstructor } from './factories/native-blob-event-constructor';\nimport { createNativeMediaRecorderFactory } from './factories/native-media-recorder';\nimport { createNativeMediaRecorderConstructor } from './factories/native-media-recorder-constructor';\nimport { createNotSupportedError } from './factories/not-supported-error';\nimport { createReadElementContent } from './factories/read-element-content';\nimport { createReadElementType } from './factories/read-element-type';\nimport { createReadVariableSizeInteger } from './factories/read-variable-size-integer';\nimport { createWebAudioMediaRecorderFactory } from './factories/web-audio-media-recorder';\nimport { createWebmPcmMediaRecorderFactory } from './factories/webm-pcm-media-recorder';\nimport { createWindow } from './factories/window';\nimport { readVariableSizeIntegerLength } from './functions/read-variable-size-integer-length';\nimport { wrapEventListener } from './functions/wrap-event-listener';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\n\nexport * from './interfaces/index';\nexport * from './types/index';\nvar encoderRegexes = [];\nvar window = createWindow();\nvar nativeBlobEventConstructor = createNativeBlobEventConstructor(window);\nvar createBlobEvent = createBlobEventFactory(nativeBlobEventConstructor);\nvar createWebAudioMediaRecorder = createWebAudioMediaRecorderFactory(createBlobEvent, createInvalidModificationError, createInvalidStateError, createNotSupportedError);\nvar readVariableSizeInteger = createReadVariableSizeInteger(readVariableSizeIntegerLength);\nvar readElementContent = createReadElementContent(readVariableSizeInteger);\nvar readElementType = createReadElementType(readVariableSizeInteger);\nvar decodeWebMChunk = createDecodeWebMChunk(readElementContent, readElementType);\nvar createWebmPcmMediaRecorder = createWebmPcmMediaRecorderFactory(createBlobEvent, createInvalidModificationError, createNotSupportedError, decodeWebMChunk, readVariableSizeInteger);\nvar createEventTarget = createEventTargetFactory(window);\nvar nativeMediaRecorderConstructor = createNativeMediaRecorderConstructor(window);\nvar createNativeMediaRecorder = createNativeMediaRecorderFactory(createInvalidModificationError, createNotSupportedError);\nvar mediaRecorderConstructor = createMediaRecorderConstructor(createNativeMediaRecorder, createNotSupportedError, createWebAudioMediaRecorder, createWebmPcmMediaRecorder, encoderRegexes, createEventTargetConstructor(createEventTarget, wrapEventListener), nativeMediaRecorderConstructor);\nexport { mediaRecorderConstructor as MediaRecorder };\nexport var isSupported = function isSupported() {\n  return createIsSupportedPromise(window);\n};\nexport var register = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(port) {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.t0 = encoderRegexes;\n            _context.next = 3;\n            return rgstr(port);\n\n          case 3:\n            _context.t1 = _context.sent;\n\n            _context.t0.push.call(_context.t0, _context.t1);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function register(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"mappings":";;AAAA,SAASA,QAAQ,IAAIC,KAArB,QAAkC,oBAAlC;AACA,SAASC,sBAAT,QAAuC,gCAAvC;AACA,SAASC,qBAAT,QAAsC,gCAAtC;AACA,SAASC,4BAAT,QAA6C,sCAA7C;AACA,SAASC,wBAAT,QAAyC,kCAAzC;AACA,SAASC,8BAAT,QAA+C,wCAA/C;AACA,SAASC,uBAAT,QAAwC,iCAAxC;AACA,SAASC,wBAAT,QAAyC,kCAAzC;AACA,SAASC,8BAAT,QAA+C,wCAA/C;AACA,SAASC,gCAAT,QAAiD,2CAAjD;AACA,SAASC,gCAAT,QAAiD,mCAAjD;AACA,SAASC,oCAAT,QAAqD,+CAArD;AACA,SAASC,uBAAT,QAAwC,iCAAxC;AACA,SAASC,wBAAT,QAAyC,kCAAzC;AACA,SAASC,qBAAT,QAAsC,+BAAtC;AACA,SAASC,6BAAT,QAA8C,wCAA9C;AACA,SAASC,kCAAT,QAAmD,sCAAnD;AACA,SAASC,iCAAT,QAAkD,qCAAlD;AACA,SAASC,YAAT,QAA6B,oBAA7B;AACA,SAASC,6BAAT,QAA8C,+CAA9C;AACA,SAASC,iBAAT,QAAkC,iCAAlC;AAGA;;;;;AAIA,cAAc,oBAAd;AACA,cAAc,eAAd;AAEA,IAAMC,cAAc,GAAa,EAAjC;AAEA,IAAMC,MAAM,GAAGJ,YAAY,EAA3B;AACA,IAAMK,0BAA0B,GAAGd,gCAAgC,CAACa,MAAD,CAAnE;AACA,IAAME,eAAe,GAAGvB,sBAAsB,CAACsB,0BAAD,CAA9C;AACA,IAAME,2BAA2B,GAAGT,kCAAkC,CAClEQ,eADkE,EAElEnB,8BAFkE,EAGlEC,uBAHkE,EAIlEM,uBAJkE,CAAtE;AAMA,IAAMc,uBAAuB,GAAGX,6BAA6B,CAACI,6BAAD,CAA7D;AACA,IAAMQ,kBAAkB,GAAGd,wBAAwB,CAACa,uBAAD,CAAnD;AACA,IAAME,eAAe,GAAGd,qBAAqB,CAACY,uBAAD,CAA7C;AACA,IAAMG,eAAe,GAAG3B,qBAAqB,CAACyB,kBAAD,EAAqBC,eAArB,CAA7C;AACA,IAAME,0BAA0B,GAAGb,iCAAiC,CAChEO,eADgE,EAEhEnB,8BAFgE,EAGhEO,uBAHgE,EAIhEiB,eAJgE,EAKhEH,uBALgE,CAApE;AAOA,IAAMK,iBAAiB,GAAG3B,wBAAwB,CAACkB,MAAD,CAAlD;AACA,IAAMU,8BAA8B,GAAGrB,oCAAoC,CAACW,MAAD,CAA3E;AAEA,IAAMW,yBAAyB,GAAGvB,gCAAgC,CAACL,8BAAD,EAAiCO,uBAAjC,CAAlE;AACA,IAAMsB,wBAAwB,GAA8B1B,8BAA8B,CACtFyB,yBADsF,EAEtFrB,uBAFsF,EAGtFa,2BAHsF,EAItFK,0BAJsF,EAKtFT,cALsF,EAMtFlB,4BAA4B,CAAC4B,iBAAD,EAAoBX,iBAApB,CAN0D,EAOtFY,8BAPsF,CAA1F;AAUA,SAASE,wBAAwB,IAAIC,aAArC;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc;EAAA,OAAM7B,wBAAwB,CAACe,MAAD,CAA9B;AAAA,CAApB;AAEP,OAAO,IAAMvB,QAAQ;EAAA,sEAAG,iBAAOsC,IAAP;IAAA;MAAA;QAAA;UAAA;YAAA,cACpBhB,cADoB;YAAA;YAAA,OACMrB,KAAK,CAACqC,IAAD,CADX;;UAAA;YAAA;;YAAA,YACLC,IADK;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAARvC,QAAQ;IAAA;EAAA;AAAA,GAAd","names":["register","rgstr","createBlobEventFactory","createDecodeWebMChunk","createEventTargetConstructor","createEventTargetFactory","createInvalidModificationError","createInvalidStateError","createIsSupportedPromise","createMediaRecorderConstructor","createNativeBlobEventConstructor","createNativeMediaRecorderFactory","createNativeMediaRecorderConstructor","createNotSupportedError","createReadElementContent","createReadElementType","createReadVariableSizeInteger","createWebAudioMediaRecorderFactory","createWebmPcmMediaRecorderFactory","createWindow","readVariableSizeIntegerLength","wrapEventListener","encoderRegexes","window","nativeBlobEventConstructor","createBlobEvent","createWebAudioMediaRecorder","readVariableSizeInteger","readElementContent","readElementType","decodeWebMChunk","createWebmPcmMediaRecorder","createEventTarget","nativeMediaRecorderConstructor","createNativeMediaRecorder","mediaRecorderConstructor","MediaRecorder","isSupported","port","push"],"sources":["C:\\Users\\brigh\\storage\\js_project\\Gakugeki_WEB\\node_modules\\extendable-media-recorder\\src\\module.ts"],"sourcesContent":["import { register as rgstr } from 'media-encoder-host';\nimport { createBlobEventFactory } from './factories/blob-event-factory';\nimport { createDecodeWebMChunk } from './factories/decode-web-m-chunk';\nimport { createEventTargetConstructor } from './factories/event-target-constructor';\nimport { createEventTargetFactory } from './factories/event-target-factory';\nimport { createInvalidModificationError } from './factories/invalid-modification-error';\nimport { createInvalidStateError } from './factories/invalid-state-error';\nimport { createIsSupportedPromise } from './factories/is-supported-promise';\nimport { createMediaRecorderConstructor } from './factories/media-recorder-constructor';\nimport { createNativeBlobEventConstructor } from './factories/native-blob-event-constructor';\nimport { createNativeMediaRecorderFactory } from './factories/native-media-recorder';\nimport { createNativeMediaRecorderConstructor } from './factories/native-media-recorder-constructor';\nimport { createNotSupportedError } from './factories/not-supported-error';\nimport { createReadElementContent } from './factories/read-element-content';\nimport { createReadElementType } from './factories/read-element-type';\nimport { createReadVariableSizeInteger } from './factories/read-variable-size-integer';\nimport { createWebAudioMediaRecorderFactory } from './factories/web-audio-media-recorder';\nimport { createWebmPcmMediaRecorderFactory } from './factories/webm-pcm-media-recorder';\nimport { createWindow } from './factories/window';\nimport { readVariableSizeIntegerLength } from './functions/read-variable-size-integer-length';\nimport { wrapEventListener } from './functions/wrap-event-listener';\nimport { IMediaRecorderConstructor } from './interfaces';\n\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\n\nconst encoderRegexes: RegExp[] = [];\n\nconst window = createWindow();\nconst nativeBlobEventConstructor = createNativeBlobEventConstructor(window);\nconst createBlobEvent = createBlobEventFactory(nativeBlobEventConstructor);\nconst createWebAudioMediaRecorder = createWebAudioMediaRecorderFactory(\n    createBlobEvent,\n    createInvalidModificationError,\n    createInvalidStateError,\n    createNotSupportedError\n);\nconst readVariableSizeInteger = createReadVariableSizeInteger(readVariableSizeIntegerLength);\nconst readElementContent = createReadElementContent(readVariableSizeInteger);\nconst readElementType = createReadElementType(readVariableSizeInteger);\nconst decodeWebMChunk = createDecodeWebMChunk(readElementContent, readElementType);\nconst createWebmPcmMediaRecorder = createWebmPcmMediaRecorderFactory(\n    createBlobEvent,\n    createInvalidModificationError,\n    createNotSupportedError,\n    decodeWebMChunk,\n    readVariableSizeInteger\n);\nconst createEventTarget = createEventTargetFactory(window);\nconst nativeMediaRecorderConstructor = createNativeMediaRecorderConstructor(window);\n\nconst createNativeMediaRecorder = createNativeMediaRecorderFactory(createInvalidModificationError, createNotSupportedError);\nconst mediaRecorderConstructor: IMediaRecorderConstructor = createMediaRecorderConstructor(\n    createNativeMediaRecorder,\n    createNotSupportedError,\n    createWebAudioMediaRecorder,\n    createWebmPcmMediaRecorder,\n    encoderRegexes,\n    createEventTargetConstructor(createEventTarget, wrapEventListener),\n    nativeMediaRecorderConstructor\n);\n\nexport { mediaRecorderConstructor as MediaRecorder };\n\nexport const isSupported = () => createIsSupportedPromise(window);\n\nexport const register = async (port: MessagePort): Promise<void> => {\n    encoderRegexes.push(await rgstr(port));\n};\n"]},"metadata":{},"sourceType":"module"}