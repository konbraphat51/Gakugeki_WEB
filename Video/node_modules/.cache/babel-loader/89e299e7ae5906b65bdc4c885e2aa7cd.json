{"ast":null,"code":"export var detachArrayBuffer = function detachArrayBuffer(arrayBuffer) {\n  var _MessageChannel = new MessageChannel(),\n      port1 = _MessageChannel.port1,\n      port2 = _MessageChannel.port2;\n\n  return new Promise(function (resolve) {\n    var closeAndResolve = function closeAndResolve() {\n      port2.onmessage = null;\n      port1.close();\n      port2.close();\n      resolve();\n    };\n\n    port2.onmessage = function () {\n      return closeAndResolve();\n    };\n\n    try {\n      port1.postMessage(arrayBuffer, [arrayBuffer]);\n    } finally {\n      closeAndResolve();\n    }\n  });\n};","map":{"version":3,"mappings":"AAAA,OAAO,IAAMA,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,WAAD,EAA4C;EACzE,sBAAyB,IAAIC,cAAJ,EAAzB;EAAA,IAAQC,KAAR,mBAAQA,KAAR;EAAA,IAAeC,KAAf,mBAAeA,KAAf;;EAEA,OAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAY;IAC3B,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAK;MACzBH,KAAK,CAACI,SAAN,GAAkB,IAAlB;MAEAL,KAAK,CAACM,KAAN;MACAL,KAAK,CAACK,KAAN;MAEAH,OAAO;IACV,CAPD;;IASAF,KAAK,CAACI,SAAN,GAAkB;MAAA,OAAMD,eAAe,EAArB;IAAA,CAAlB;;IAEA,IAAI;MACAJ,KAAK,CAACO,WAAN,CAAkBT,WAAlB,EAA+B,CAACA,WAAD,CAA/B;IACH,CAFD,SAEU;MACNM,eAAe;IAClB;EACJ,CAjBM,CAAP;AAkBH,CArBM","names":["detachArrayBuffer","arrayBuffer","MessageChannel","port1","port2","Promise","resolve","closeAndResolve","onmessage","close","postMessage"],"sources":["C:\\Users\\brigh\\storage\\js_project\\Gakugeki_WEB\\node_modules\\standardized-audio-context\\src\\helpers\\detach-array-buffer.ts"],"sourcesContent":["export const detachArrayBuffer = (arrayBuffer: ArrayBuffer): Promise<void> => {\n    const { port1, port2 } = new MessageChannel();\n\n    return new Promise((resolve) => {\n        const closeAndResolve = () => {\n            port2.onmessage = null;\n\n            port1.close();\n            port2.close();\n\n            resolve();\n        };\n\n        port2.onmessage = () => closeAndResolve();\n\n        try {\n            port1.postMessage(arrayBuffer, [arrayBuffer]);\n        } finally {\n            closeAndResolve();\n        }\n    });\n};\n"]},"metadata":{},"sourceType":"module"}