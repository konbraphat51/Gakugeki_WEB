{"ast":null,"code":"export var createAnimationFrame = function createAnimationFrame(emitNotSupportedError, window, wrapSubscribeFunction) {\n  return function () {\n    return wrapSubscribeFunction(function (observer) {\n      if (window === null || window.cancelAnimationFrame === undefined || window.requestAnimationFrame === undefined) {\n        return emitNotSupportedError(observer);\n      }\n\n      var animationFrameHandle = window.requestAnimationFrame(function animationFrameCallback(timestamp) {\n        animationFrameHandle = window.requestAnimationFrame(animationFrameCallback);\n        observer.next(timestamp);\n      });\n      return function () {\n        return window.cancelAnimationFrame(animationFrameHandle);\n      };\n    });\n  };\n};","map":{"version":3,"mappings":"AAEA,OAAO,IAAMA,oBAAoB,GAA2B,SAA/CA,oBAA+C,CAACC,qBAAD,EAAwBC,MAAxB,EAAgCC,qBAAhC,EAAyD;EACjH,OAAO;IAAA,OACHA,qBAAqB,CAAC,UAACC,QAAD,EAAa;MAC/B,IAAIF,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAACG,oBAAP,KAAgCC,SAAnD,IAAgEJ,MAAM,CAACK,qBAAP,KAAiCD,SAArG,EAAgH;QAC5G,OAAOL,qBAAqB,CAACG,QAAD,CAA5B;MACH;;MAED,IAAII,oBAAoB,GAAGN,MAAM,CAACK,qBAAP,CAA6B,SAASE,sBAAT,CAAgCC,SAAhC,EAAyC;QAC7FF,oBAAoB,GAAGN,MAAM,CAACK,qBAAP,CAA6BE,sBAA7B,CAAvB;QAEAL,QAAQ,CAACO,IAAT,CAAcD,SAAd;MACH,CAJ0B,CAA3B;MAMA,OAAO;QAAA,OAAMR,MAAM,CAACG,oBAAP,CAA4BG,oBAA5B,CAAN;MAAA,CAAP;IACH,CAZoB,CADlB;EAAA,CAAP;AAcH,CAfM","names":["createAnimationFrame","emitNotSupportedError","window","wrapSubscribeFunction","observer","cancelAnimationFrame","undefined","requestAnimationFrame","animationFrameHandle","animationFrameCallback","timestamp","next"],"sources":["C:\\Users\\brigh\\storage\\js_project\\Gakugeki_WEB\\node_modules\\subscribable-things\\src\\factories\\animation-frame.ts"],"sourcesContent":["import { TAnimationFrameFactory } from '../types';\n\nexport const createAnimationFrame: TAnimationFrameFactory = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return () =>\n        wrapSubscribeFunction((observer) => {\n            if (window === null || window.cancelAnimationFrame === undefined || window.requestAnimationFrame === undefined) {\n                return emitNotSupportedError(observer);\n            }\n\n            let animationFrameHandle = window.requestAnimationFrame(function animationFrameCallback(timestamp): void {\n                animationFrameHandle = window.requestAnimationFrame(animationFrameCallback);\n\n                observer.next(timestamp);\n            });\n\n            return () => window.cancelAnimationFrame(animationFrameHandle);\n        });\n};\n"]},"metadata":{},"sourceType":"module"}